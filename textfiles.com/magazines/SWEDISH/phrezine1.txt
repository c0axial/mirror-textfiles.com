PhreZine 01


Innehållsförteckning.
---------------------
1. Inledning
2. Gsm Terminaler (lås & div)
3. Blueboxing (alive ?)
4. Cashkort.
5. Surfa över mobil.
6. Digital TV
7. Rättelser
8. Sista ordet.

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

1. Inledning
------------
Jaha då startar vi om på nytt. SE-Zine som hade sin lilla karriär
en gång är nu avslutad. Och har nu övergått till Phrezine samtidigt 
som gruppen Phrecom bildades. Och jag hoppas att alla skall trivas 
med detta lilla nya zine som vi skall försöka hålla någorlunda 
informativt på saker som man kan göra och på saker som man inte 
alltid förstår och vet något om men som man är nyfiken på. Phrezine 
kommer i första hand vara ett Phreaking baserat zine. och kommer 
inte att utesluta Hacking relaterad information men vara lite 
avhållsamt från det. så att zinet domineras av Phreaking och tekniska 
möjligheter. Jag vill också påpeka att om ni vill att vi skall inneha 
någon typ av artikel i kommande Phrezine så hör gärna av er så kollar 
vi på om det är något som kanske
skulle intressera oss att skriva om. 
-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

2. Gsm terminaler (lås & div.)
En gsm terminal som det heter är en vanlig gsm telefon eller annan 
mobil enhet som används för att kommunicera med. Jag har här tänkt 
att beskriva lite olika förkortningar över olika typer av lås och 
hur man märker att telefonen är låst i respektive typ. Om vi börjar 
från början med olika lås så finns det lås på både sim kortet som på 
terminaler. De lås som man kan finna på ett sim kort är:

*Pin (personal identity number)
*Pin2
*PUK

Pin koden är det lås som man oftast ser när man slår på sin terminal  då telefonen 
frågar efter Pin kod. denna kod kan man ändra fritt som användare.i de flesta fall när 
man får sitt sim kort. så är inte pin koden aktiverad på kortet utan måste göras 
manuellt. Standard för de flesta kort innan användaren har bytt sin pin kod är 0000 
som kod. Pin koden är i första han tänkt för att skydda simkortet mot obehöriga från 
att använda kortet utan tillåtelse.

Pin2 är en kod som man använder för att utföra vissa inställningar i sin terminal.
Långt ifrån alla gsm terminaler har funktioner som är spärrade med pin2. dock så har
de flesta nyare gsm terminal stöd för denna kod.

Puk koden är en 8'a siffrig kod som tillhandahålls från operatören till kortet.Puk koden 
aktiveras efter att man slagit sin pin kod fel 3 gånger. Denna funktion finns för att 
undvika så kallad bruteforceing mot kortet som har sin pin aktiverad. Bruteforceing
är en metod som används för att komma fram till rätt lösenord/kod på något som är 
låst och går till på ett sådant vis att man testar alla kombinationer som går för att 
komma åt det låsta objektet. Självklart har även PUK sin begränsning men är dock 
högre. man kan slå fel PUK kod ända upp till 10 ggr slår man dock sin puk kod fel 
10ggr så är kortet obrukbart för all framtid och kan så gott som slängas.

Om vi nu övergår till nästa kod som man kan dyka på i en terminal är den sk. 
Säkerhetskoden/Telefonlåset. Detta är en kod som man som användare kan ställa
in för att ingen obehörig skall kunna använda en terminal utan tillåtelse. På denna kod 
finns det ingen gräns för hur många gånger man kan så in koden men koden kan 
variera mellan 2-8 siffror så det skulle ta ett tag att bruteforca fram rätt kod. Denna 
kod framträder först när man slår på telefonen eller efter att man slagit in pin koden. 
Det finns dock program som klarar av att ta bort denna typen av lås.

Nu skall vi övergå till andra typer av lås som sätt av operatörer. Och som vanliga 
användare egentligen inte skall hava tillgång till. Nedan följer en liten lista på olika 
typer av lås som kan sättas  av operatörerna Dock tänker jag bara beskriva De 
vanligaste lite mera grundligt och vad de betyder.

*nsck
*nck
*PPK
*CCK
*SPCK
*PCK
*imei


Nsck låset är nog det mest kända låset i Sverige idag och används flitigt. När en 
telefon är låst med typen NSCK så kan telefonen bara kan användas i den 
operatörens nät. Ex Om du idag skall köpa en telefon med erbjudande så som
Köp denna Nokia 3310 med Comviq kontant. så har operatören(Comviq i detta 
fall) bundit telefonen till sig så att den inte går att använda i några andra operatörers 
nät ex. Telia och Europolitan.

Nck låset är något strängare än NSCK. Om en terminal är nck låst har användaren
inga som helst möjligheter att byta sim kort. med andra ord terminalen är låst imot 
simkortet och inte hela nätet. Det är dock sällan man ser denna typ av lås.

IMEI ja detta kan också användas för att låsa terminaler med. I SE-Zine så beskrivs
lite om imei koden och hur den är uppbygd. Imei är en identifiering av terminalen och
denna typ av spärr används oftast då telefonen är stulen eller har någon annan
defekt funktion som stör gsm nätet. Hur vet man då att terminalen är Imei spärrad ?
Jo om inga lås framträder så kan man antingen inte alls komma upp på nätet eller
så går det inte att ringa ut. oftast när telefoner imei spärras så Grålistas telefonen
på ett sådant vis att man inte kan ringa ut.

Alla de senare typer av lås går att programmera bort på något vis. Program för att 
göra detta kan återfinnas på http://mobile.box.sk. samt ritningar på olika kablar. Dessa 
program jobbar på så vis att dom går in och Flashar programvaran i terminalen. Med 
att flasha menas att man byter ut en programvara eller en liten del i programvaran
som befinner sig i en hårdvara så som i eepromar. I de flesta fall när programmen 
kommunicerar med din telefon via kabel  så används en seriell kommunikation i 
hastigheten 9600bps en stopbit samt ingen paritet och 8 bitars flöde(9600 8N1). Så 
om du har en kabel och känner för att titta på vad din telefon kastar ut för skräp kan 
du kolla genom att du öppnar en vanlig terminal så som hyperterminalen eller i dos ex. 
Terminate. och ställer in de parametrar som var för att prata med telefonen. Din 
telefon fungerar som ett vanligt modem ungefär och går att kommunicera med via AT 
kommandon nedan följer några kommandon du kan använda om du känner dig 
manad. Dessa kommandon skall skrivas följt av 0x0A, 0x0D som motsvarar enter 
(radbrytning).

ATA 		Svara i terminalen om det ringer
AT+GMI 		Tillverkarens identifikation
AT+GMO 		Få svar på vilken modell du använder.
AT+GMR 		Få svar på vilken revision din programvara har
ATDxxx; 	Slå ett nummer och ring
ATH 		Lägg på
AT+CFUN=?	Definiera mängd av funktionalitet gentemot ström som äts
AT+CFUN=0 	Stäng av terminalen
AT+CBC 		Efterfråga batteristatus

Detta är generella AT kommandon men jag kan inte garantera att alla fungerar på alla 
terminaler.

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

3. BlueBox (Alive ?)
--------------------
Detta är inget jag kommer skriva så långt om för det finns hur mycket texter om det 
som helst på nätet Många säger idag att det inte går att blueboxa idag i Sverige. detta 
är FEL. Visst går det. Nu skall jag göra en kort beskrivning varför. Blueboxing går ut 
på att man tar kontroll över växlarna med vissa förbestämda DTMF toner som den 
kända 2600. I dag i Sverige använder vi oss av digitala AXE växlar som inte över 
huvud taget bryr sig om denna ton. Men hur skall man då kunna blueboxa ?. Jo 
Bluebox systemet fungerar på de system som kallas CCITT5 och är en standard för 
växlar. idag är det något föråldrade men de finns fortfarande i vissa länder. om man då 
ringer upp ett 020 nummer till ett land med CCITT5 standarden på sina växlar så har 
man fritt fram att blueboxa. Många säger  dock att Axe växeln filtrerar bort 2600 
tonen. detta är också fel. Däremot något som jag inte kan Säga är fel är alla de 
varningar som finns att Axe stationer detekterar om 2600 tonen används och larmar 
vidare detta till administratör. det finns många av denna typen varningar. på alla håll.
Men den släpper i alla fall igenom tonen.

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

4. Cashkort
----------------------
Cashkort i Framtiden
Cashkortet har ett chip med stor lagringskapacitet. Detta ger cash hög potential för
framtida förbättringar. Här finns ju gott om plats för annat än bara lagring av pengar att
konsumera. Cash kortet är ett så kallat smart kort som nämnts tidigare och i
microprocessorn, ”chipet”, finns lagringsutrymme för ca 64 000 tecken. Här kan 
tänkas  att man kan komma att kunna lagra en mängd olika typer av information. 
Kortet kan tänkas komma att användas som medlemskort, lånekort av olika slag 
samtidigt som det kan innehålla ägarens ID-handlingar och annan viktig information om 
kortägaren. Om man gör en direkt jämförelse med ett magnetkort så kan ett smart 
kort lagra upptill 80 ggr mer information och är dessutom mycket säkrare och svåra 
att förfalska. Man kommer alltså att kunna använda samma kort till en mängd olika 
aktiviteter i framtiden såsom nyckelkort och inloggning till Internetbanker samt på 
bussen eller som medlemskort på ”gymmet” vilket är en smakfull lösning på dagens 
stora mängd av olika plastkort och lappar med koder och lösenord som skall rymmas 
i plånboken eller i ens minne. Eftersom man i Sverige har valt Protonsystemet som 
används i andra europeiska länder finns stor potential för ett framtida internationellt 
användande. Systemet har dessutom kapacitet att kunna ladda korten med olika 
valutor. Det svenska systemet är dessutom ett öppet system som innebär att ytterligare 
banker kan ansluta sig till systemet så det finns stora utvecklingsmöjligheter. 
Möjligheten för en internationell standardisering är väldigt viktig, särskilt med tanke på 
införande av Euro som en europeisk valutaunion. En ytterligare framtida applikation är 
faciliteten med en s.k. hemladdare där man kan ladda sitt kort från hemmet via en 
reguljär Internet-uppkoppling. Man kommer på sätt att ha tillgång till en egen 
bankomat i hemmet. Utifrån detta kan ju tycka att det finns stor potential för att 
cashkort-systemet kommer att bli en stor tillgång för människan i framtiden, vilket nog 
är precis vad det handlar om...

Systemöversikt
Cashkortet är av den typ av IC-kort (Integritet Circuit) som kallas kontaktkort. Det 
som är kännetecknande för kontantkortet, i motsats till betalkort, är att köpet sker 
off-line och det behövs heller ingen PIN-kod för att utföra köpet. Detta är möjligt 
genom att i betalterminalerna lagras alla köp. Att ladda kortet kan direkt jämföras med 
att gå till Minuten eller Bankomaten. Laddaren har on-line kontakt med banken och 
här använder man sin PIN-kod för att ladda kortet men pengar. Kortets kärna är en 
mikroprocessor som lagrar information. Processorn kan lagra upp till 128 kbyte, och 
det innebär att användningsområdena för kortet är väldigt stora. Microprocessorn är 
bara åtkomlig via en betal- eller laddningsterminal, och det gör att säkerheten är 
mycket hög. Detta innebär att det praktiskt taget är omöjlig att manipulera
med den data som finns lagrad. Se detta i motsats till kort med magnetremsa som är
mycket lätt att kopiera. Kortets livstid, > 10 år, är betydligt längre än ett 
magnetremsekort, ˜ 2-3 år. Mer om kortets teknik följer nedan. 
* Cashkort
* Betalterminal(i butik t ex.)
* Laddnings Enhet
* Bank
* Off-line On-line
* Kontroll & uppladdning
* Transaktioner
För att genomföra ett köp med kortet krävs att det är laddat med kontanter och att 
affären har en betalterminal. Betalningen går till så att kunden sätter kortet i 
betalterminalen och genom att godkänna summan med ett tryck på en OK-knapp dras
beloppet från kortet. Summan lagras i betalterminalen och vid dagens slut kopplas den 
upp mot bankens dator och den sammanlagda summan överförs från banken till 
butikens konto. På så sätt hanteras inga kontanter och medföljande problem 
elimineras. För små köp krävs ingen PIN-kod, men vid köp med större summor 
används denna, likaså om man gör många köp under kort tid så får man efter ett antal 
köp ange sin kod. Detta för att öka säkerheten. Undersökningar har visat att ett 
kontantköp tar i snitt 24 sekunder och ett köp med cashkort i snitt 10 sekunder. I 
beräkningen ingår då hantering av kontanter samt tömning och räkning av kassan. 
Kostnaden för kontantkort ligger på 1,06 kr/köp och med cashkort 0,46 kr/köp.

Betalterminalen:
Betalterminalen innehåller en kortläsare, där kundens kort avläses, köpeskillingen dras
av och det nya saldot registreras. För att systemet skall vara säkert finns två
säkerhetsfunktioner, CSM och SAM, implementerade. Alla köp sker off-line, och vid
dagens slut kopplas terminalen upp mot bankens dator och alla transaktioner
kontrolleras och köpesumman överförs till butikens konto.

Laddningsterminalen:
När kunden skall ladda sitt kort besöker han/hon en laddningsterminal. Proceduren är
liknande dagens Minuten och Bankomater, det som skiljer är att det finns betydligt fler
laddningsterminaler än Minuten. Det tar ungefär 35-40 sekunder att ladda kortet,
Det maximala beloppet som går att ladda är idag 1500 kr och minimum är 50 kr.
Dataöverföring till bank: När kortet laddas eller när en betalterminal skall tömmas sker 
det via det vanliga telefonnätet. Informationen krypteras av säkerhetsskäl.

IC-minneskort:
När det gäller IC-minneskort kan det skilja mycket i minneskapaciteteten, därav
indelningen. Vissa IC-minneskort har kablad logik, andra inte. Vidare delas små
minneskort upp i seriella och skyddade kort. De seriella korten är utan kablad logik 
och kan inget annat än att passivt läsa och skriva information. Till funktion så är de lika 
kort med magnetremsor och det går att fritt skriva och läsa information från kortet om 
man har hårdvara som passar. Skyddade kort är säkrare än seriella kort eftersom de 
skyddar delar av kortets minne. Viss information, som t ex ett serienummer, skrivs vid 
kortets fabrikation in i det skyddade minnet. Därefter påför man kortet en spänning 
som är tillräckligt hög för att den ska bränna av säkringen. Ingenting kan nu skrivas 
eller ändras i det skyddade minnet. De skyddade korten innehåller även kablad logik i 
minnet vilket gör att minnets tillgänglighet kan kontrolleras och sättas i samband med 
exempelvis ett lösenord som hårdvaran känner till. Denna typ av kort som ofta kallas 
Chip Card används i stor skala av bl a France Telecom i telefonkort. Efter att snabbt 
ha berört IC-minneskort så skall nu smarta kort granskas närmare. Enligt gällande 
ISO-standard så är storleken på kortet 85 mm x 53 mm och tjockleken är 0,76mm. 
Kortet gör vanligtvis i PVS- eller ABS-plast. Orsaken till att de kallas smarta är att de 
har en inbyggd mikroprocessor som gör det möjligt för kortet att processa data. 
Försök med kort som har två inbyggda processorer har gjorts men fortfarande är 
korten som har en processor vanligast. Kort som dessutom har en display och ett 
tangentbord brukar kallas supersmarta kort. De supersmarta  korten behöver inte vara 
särskilt mycket större än andra IC-kort men vad som hindrat dess spridning är den 
avancerade tekniken är ganska kostsam. Det finns tre typer av smarta kort; 
kontaktkort, kontaktlösa kort och proximity-kort. Kontaktkort kräver fysisk kontakt 
mellan kortet och kort-läsare/skrivare, vanligtvis kallad CAD2. Kontaktlösa kort 
utnyttjar induktion och kapacitiv teknik och kräver inte direkt kontakt. Dock måste 
kortet placeras mycket nära CAD och i rätt riktning i förhållande till denna. Proximity-
kort är kontaktlösa kort med en längre räckvidd. De kallas ibland för passiva kort och 
aktiveras när det kommer i närheten av CAD. Läsning och skrivning kan ske på ett 
avstånd upp till 0,5 m. Proximity-kortet kommunicerar via radiofrekvens eller med 
laserteknik. För att kunna kommunicera så krävs självklart en strömförsörjning för 
kortet. Denna kan utgöras av mottagen magnetisk energi eller ett i kortet inbyggt 
batteri. Proximity-korten har en krävande teknik, är ofta tjockare än andra smarta 
kort och slutar att fungera när batteriet tagit slut. Å andra sidan så finns det klara
fördelar med den kontaktlösa kommunikationen, exempelvis i samband med 
kollektivtrafik där det krävs hög genomsläppshastighet.

Kontakt:
Kontaktkorten är allra vanligast. På kortets ena sida syns en samling kontaktbleck 
under vilka en modul innehållande mikroprocessorchipet finns. Via kontaktblecken 
sker kommunikation med CAD och även strömförsörjningen. För kontaktkort finns en
utarbetad standard - ISO 7816 - och den definierar bl a de olika kontaktblecken. 
Enligt standarden, ISO 7816-2, så finns åtta bleck men endast sex används för kortets
kommunikation med omvärlden.

Arbetsspänning,VCC:
Kortets arbetsspänning (VCC) är definierad till att vara mellan 4,75 och 5,25 volt där
den maximala strömförbrukningen av 200mA. Tekniken går dock mot att lägre
spänning, 3 volt, skall användas tillsammans med nya typer av halvledare som kräver
allt mindre strömförsörjning. En strömförbrukning på 200mA är väl högt för dagens
teknik och de flesta smarta kort har en förbrukning på endast 10mA till 20 mA. 
ETSI3 har i sina standardiseringar satt den maximala strömförbrukningen till 20mA vid
normalt användande och när det gäller sleep mode, där kortet är inaktivt frånsett att 
det förser volatila minnen med den ström de behöver för att bevara sin information, så 
är den maximala strömförbrukningen 200

Jord, GND:
GND är jordreferens till arbetsspänningens potential.

Återställning, RST:
Återställningssignalen används för att starta upp de program som finns i det smarta
kortets ROM. Enligt ISO-standard så finns tre återställningstyper: internal reset, active
low reset och synchronous high active reset. De flesta kort idag använder active low
reset som återställningssignal. För att inte EPROM och EEPROM-minnen skall 
skadas så är ordningen på aktiverings- och deaktiveringsoperationer väl definierade. I 
aktiveringen av kortet så ingår bl a
följande:
• Mottag RST low
• Applicera VCC
• Sätt I/O i mottagar-läge
• Sätt VPP i inaktivt läge
• Applicera klocka

I deaktiveringen så ingår bl a:
• Mottag RST low
• Sätt klocka i passivt läge
• Sätt VPP i inaktivt läge
• Sätt I/O i passivt läge
• Inaktivera VCC

Programmeringsspänning, VPP:
Programmeringsspänningen är en relativt hög spänning som används när något skall
skrivas i icke-volatila minnen, dvs de minnen som behåller sin information även utan
strömförsörjning. För att skriva till minne av typen EPROM behövs en utifrån pålagd
spänning (12,5 eller 21 volt) medan EEPROM-minne kan skrivas med hjälp av en
spänning som laddas upp i chipet. Av dessa minnestyper så är den senare långt mer
populär eftersom den går att skriva över [se förklaring av minnestyper] och VPP blir
därför allt mindre viktigt.

Klocksignal, CLK:
Klockans signal synkroniserar de instruktioner som sker i mikroprocessorn. Ett smart
kort kan innehålla en egen klocka men vanligtvis så får de en klocksignal utifrån via
CLK. Klockfrekvensen är avgörarnde för hastigheten hos I/O-kommunikation. Enligt
ISO finns två klockfrekvenser för smarta kort: 3,5795 MHz och 4,9152 MHz. En
klockfrekvens på 4,9 MHz innebär alltså att 4,9 millioner steg kan utföras per sekund,
men det krävs många steg för varje instruktion. I Europa så är den lägre frekvensen 
den mest använda.

Data Input/output, I/O:
Via denna anslutning så tar kortets mikroprocessor emot instruktioner samt utbyter 
data med omvärlden. ISO-standarden definierar en linje för utbyte av data mellan kort 
och omgivning och därför måste linjens ”riktning” ändras mellan mottagning och 
sändning. Detta tar en viss tid, line turnaround time, och måste hållas i åtanke av bland 
annat transmissions-protokollet.

Framtida bruk, RFU
De två sista kontaktblecken är inte bestämda av ISO utan är lämnade för framtida
användning (Reserved for Future Use). Smarta kortets minne Det främsta syftet med 
smarta kort är att de ska vara en hållare av data som är lätt att ta med sig och att det 
går att läsa från det lika väl som att skriva till det. Kortets minne är alltså en central del 
i dess funktion. Det finns olika typer av minnen som fyller olika funktioner och här är 
några av dem:

Icke volatilt minne:
ROM,
 Read Only Memory, kallas även för programminne. Redan vid tillverkningen av
chipet så skrivs programinstruktionerna i detta minne och de kan sen inte ändras. 
ROM är billigt men det går inte att ändra när det väl lämnat fabriken. En annan 
begränsning är att det tar ganska lång tid att tillverka dessa minnen, upp till några 
månader, och det måste beställas i stora kvantiteter för att bli billigt.

PROM,
Programmable read only memory, minne som kan programmeras av användaren med 
hjälp av höga spänningar och möjligheten att skriva tas sen bort genom att säkringar 
bränns av.

EPROM,
Erasable programmable ROM, är per definition ett raderbart minne men EPROM 
raderas genom att det exponeras för ultraviolett ljus. Inneslutet i kortets mikromodul 
så kan dock inte uv-ljus komma åt EPROM-minnet och det är därför i praktiken inte 
raderbart när väl är inne i det smarta kortet. 

EEPROM,
Electrically erasable PROM, är minne som kan raderas elektroniskt. Det kan skrivas 
över mellan 10 000 och en miljon gånger och minnet kan bevara informationen utan 
strömförsörjning i upp till tio år. En annan fördel med EEPROM är att det kan delas 
upp i olika typer av minnen, t ex PROM eller ROM, genom att det flaggas i 
tillverkningen. EEPROM tar dock mer plats i mikromodulen än vad t ex 
EPROM tar.

RAM,
Random access memory, är ett så kallat arbetsminne. Det är volatilt och förlorar
alltså sin information när strömmen bryts. När det är aktiverat så används det till att
lagra resultat från beräkningar och I/O-operationer. När det gäller de ovan nämnda 
minnestyperna så kräver de olika mycket utrymmet samt kostar olika mycket. 
EEPROM är relativt dyrt minne.

CPU och Operativsystem:
En av chipets centrala delar är CPU:n, (Central Processing Unit) alltså processorn. 
Det är processorn som gör att kortet verkligen kan kallas smart och den ger också 
många möjligheter till funktioner; inte minst när det gäller säkerheten. Det finns olika 
sorter av CPU och olika klockfrekvenser som används. För att kortet skall fungera 
krävs att kortet har ett operativsystem. För smarta kort så kallas det mask och det 
bränns vid tillverkningen in i ROM-minnet. Olika korttillverkare använder dock inte 
samma operativsystem med kompabilitetsproblem som följd. Det som i huvudsak är 
standardiserat är just återställningsproceduren som används som initiering varje gång 
kortet skall användas. Det svar som kortet då lämnar, Answer-To-Reset, är 
standardiserat enligt ISO 7816-3. Operativsystemet sköter hantering av datafiler men 
kan i vissa fall även handha exempelvis krypteringsalgoritmer. 

Tillverkning av ett smart kort:
När ett smart kort ska produceras så handlar det oftast om en relativt stor beställning
som lämnas till tillverkaren. Kortet och chipet ska tillverkas och de skall fogas 
samman. Dessutom så sker vanligtvis viss programmering av chipet redan vid dess 
tillverkning. Vad gäller kortet så är följande specifikationer av intresse för tillverkaren; 
kortstorleken, kortets material, chipets placering, tryckegenskaper, eventuella magnet- 
och signaturremsor, eventuellt foto eller hologram etc. Chipets specifikationer bör 
täcka vilken mikroprocessor som ska användas, hur stor del av ROM som 
operativsystemet skall uppta, storleken på RAM, typ och storlek hos icke-volatila 
minnen, klockfrekvens, spänning- och strömstyrka, kommunikationsparametrar, 
återställningsrutiner etc.Chipets programvara kan inkluderas på olika sätt. Det kan 
vara en del av mask i ROM men det är ganska omständligt för tillverkaren att vid 
produktionen lägga in denna programvara och det tar lång tid. Betydligt lättare är det 
om programvaran skrivs i minne av typen PROM - då kan detta ske efter kortets 
tillverkning. Även kortets personalisering kan ske på detta sätt och sen bränner man 
bort säkringar så att det inte går att ändra det som skrivits i PROM.

Dataöverföring:
Överföring av information via en kanal som tillåter överföring i båda riktningar kan ske
på olika sätt. Half duplex transmission4 kallas det när överföring bara kan ske i en
riktning åt gången och om överföring kan ske i båda riktningar samtidigt så heter det
full duplex transmission.I den tidigare beskrivna standarden för smarta kort så finns 
bara definierat ett kontaktbleck för I/O och dataöverföring sker alltså enligt principen 
half duplex. Överföringen måste alltså byta riktning mellan det att kortet skall ta emot 
data och det att CAD ska ta emot data. I huvudsak så finns det två 
kommunikationsprotokoll som används;
• T=0 half duplex character transmission
• T=1 half duplex block transmission

Säkerhet:
Den stora fördelen med smarta kort är att transaktioner kan ske off-line. Detta ger
snabbhet och enkelhet. Kortets mikroprocessor ser till att informationen som finns i
kortet endast ges till mottagare som är behöriga. Det smarta kortet måste bevisa för
CAD att det hör till systemet, man kallar det för igenkänning av kortet - smart card
authentication. Motsvarande igenkänning av CAD kallas ofta cross-authentication och
är nödvändig t ex för att CAD ska få uppdatera informationen på kortet. Det är alltså
först när det smarta kortet och CAD ”känner igen varandra” som utbyte av hemlig
information kan ske. Det är av största vikt att det smarta kortet bevisar sin  
systemtillhörighet och att detta sker på ett säkert sätt. Det kan ske med hjälp av ett 
lösenord som kortet ger ut vid varje igenkänningsförsök. För att det skall vara 
effektivt, bör det ändras mellan varje användande. Användaren måste ofta identifiera 
sig på något sätt. Ibland räcker det med att inneha kortet men vanligtvis så krävs 
någon annan form av identifiering t ex en pin-kod. Användaren slår in koden på CAD 
och den skickas sedan till kortet för att jämföras med en lagrad referens och om de 
överensstämmer så returnerar kortet en signal som ger klartecken för fortsatt 
kommunikation. Identifiering av användaren kan även ske genom biometriska 
metoder, exempelvis genom kontroll av fingeravtryck, iris eller rösten. Kryptering är 
ett mycket effektivt sätt att bevisa kortets systemtillhörighet utan att 
avslöja hur det går till för omvärlden. Krypteringsnycklar måste distribueras 
i systemet så att meddelanden både kan krypteras och dekrypteras. Dessa nycklar 
måste genereras på något sätt och vanligtvis så sker detta med hjälp av olika 
former av algoritmer. 

DES,
Data Encryption Standard, är en av de mest kända krypteringsalgoritmerna; framtagen
av IBM i USA. Både kort och mottagare får ett slumptal skickat till sig och den
symmetriska algoritmen genererar två identiska nycklar som sen används för 
kryptering och dekryptering av information. Asymmetriska algoritmer kan användas 
för att ytterligare öka säkerheten och då är krypteringsnyckeln inte den samma som 
dekrypteringsnyckeln. Det finns dock ett komplicerat matematiskt samband mellan 
nycklarna. Den mest kända asymmetriska algoritmen är RSA, döpt efter sina skapare 
Rivest, Shamir och Adleman, och den bygger på svårigheten att dela upp stora primtal 
i faktorer. DES-algoritmen är vanligt förekommande i smarta kort. I varje smart kort 
och CAD finns en hemlig krypteringsnyckel, vanligtvis 64 bits långa. För att korta
beräkningstiderna kan en så kallad accelerator byggas in i kortet. Systemet tar fram
unika nycklar åt varje kort, differentierade nycklar, som ofta är en kombination av
huvudnyckeln och t ex kortets serienummer. Differentierade nycklar gör att även om 
ett korts nyckel avslöjas så avslöjas ändå inte systemets huvudnyckel och det räcker 
me att ta det aktuella kortet ur bruk. Nackdelen är att om huvudnyckeln, som finns 
lagrad i varje CAD, avslöjas så måste alla kort i systemet få nya differentierade 
nycklar och det är naturligtvis omständligt och kostsamt. Av den anledningen finns det 
CAD med en intern kortläsare och då kan ett smart kort användas för att lagra 
nödvändiga DESnycklar.De interna DES-korten kallas för SAM, Security Application 
Module, och kan lagra även andra hemliga data. Asymmetriska algoritmer bygger på 
principen att det är olika nycklar i kort och CAD men att ett samband utnyttjas för 
igenkänning. Normalt så används en så kallad trapdoor, CAD använder en känd 
nyckel för att verifiera en från kortet utsänd signatur som innehåller dess hemliga 
nyckel. Ovan nämnda algoritm RSA används flitigt men den kräver att kortet har en 
co-processor som minskar beräkningstiderna. När det smarta kortet och CAD ”känt 
igen varandra” så kan en hemlig men temporär nyckel användas. Detta för att om 
koden under den fortsatta kommunikationen blir avlyssnad, inte skall avslöja den 
riktiga nyckeln. Krypteringsalgoritmer skrivs vanligen in i kortets operativsystem och 
lagras i ROM redan vid kortets tillverkning.Rent hårdvarumässigt så kan kortet förses 
med olika detaljer för att öka säkerheten. En slumpgenerator som underlättar 
kryptering kan vara inbyggd, detektorer som avslöjar missförhållanden vad gäller 
temperatur, klockfrekvens, ljus och VCC kan också vara en del av hårdvaran. 
Strömförvrängning är en annan metod för att öka säkerheten och då kamouflerar man 
den egentliga strömstyrkan så det inte skall gå att dra slutsatser om de data som 
skickas.

Teknik hos Cashkort:
När det gäller tekniken hos de cashkort som används i Sverige så är det svårt att få 
fram exakt information eftersom den ofta är hemlig. Korten använder samma teknik 
som ovan är beskrivet för smarta kort men de exakta specifikationerna finns inte 
offentliga. EEPROM-minne är självklart i dagens moderna kort och man arbetar hela 
tiden för att få plats med mer minne på samma yta.

(Denna artikel återfinnes också som löst exemplar på Phrecoms hemsida)
Http://Phreakz.d2g.com

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

5. Surfa över Mobil.
Ofta när man sitter och surfar hemma önskar man att man kan använda en mobil för 
att surfa med. Detta är iofs oftast en ganska dyr historia men det finns lösningar även 
på prisfrågan. Vad jag nu skall beskriva är Hur man tar en vanlig lur och gör sitt 
vanliga modem till ett analogmodem samt hur man konfigurerar windows för att kunna 
använda detta hemma bygge :). Ok det vi behöver till detta bygge är en vanlig gsm 
terminal och en telefonlur samt ett modem. Börja med att öppna upp gsm terminalen 
så du kan se mic och högtalare. nu startar du med att löda på 2 st kablar. 2 st på 
mikrofonen och 2 stycken på högtalaren och drar dessa kablar utanför mobilen. 
kablarna borde inte vara längre än 30cm vardera. Nu kan du stänga igen mobilen igen 
om du kan. öppna nu telefonluren och löd fast kablarna på motsatt sätt i luren med 
andra ord kablarna som går ifrån mic'en på gsm terminalen skal gå till högtalaren i 
luren och tvärt om. 
          

Nu har vi byggt klart vårt lilla analogmodem. hur skall vi nu ansluta denna? Jo telefonlurens uttag
för att koppla in i basstationen kopplar vi nu istället på linje på vårt modem. Nu skall 
vi se en gsm terminal ger inte ifrån sig någon ton innan man ringer så nu måste vi veta 
hur vi skall använda detta för att kunna ringa. vi kan börja med att ställa in 
fjärranslutningen i windows för att INTE vänta på ton innan man ringer. med andra ord 
modemet slår sitt nummer innan den fått någon ton. och det e precis vad vi vill samt att 
man bör antagligen sätta anslutnings tiden på ett relativt högt värde för att se till att vi 
över huvud taget kommer upp. vilket nummer man ringer från fjärranslutningen spelar 
egentligen igen som helst roll för numret måste du ändå slå manuellt på mobilen. Med 
andra ord när du väljer ring upp från fjärranslutningen skall du för bästa prestanda 
redan ha slått in numret på mobilen och när du hör att modemet skickar sina DTMF 
signaler för att komma fram trycker du på "ring up" på gsm terminalen. nu kommer 
modemet att försöka invänta svar och sedan koppla dig online. Du bör inte räkna med 
höga överförings hastigheter på detta vis över nätet. så nu är det bara till att skaffa sig 
ett fint 020 konto som accepterar  att man kan ringa upp med ett gsm abonnemang. 
Nått som kan vara värt att tänka på är att om man använder detta för att surfa med 
hackade konton skall man nog vara lite försiktig och använda en mobil som man byter 
imei och sim på relativt ofta.

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

6. Digital TV

Tänkte ta upp lite om det nya digitala TV systemet, ni som har analogt vet att mer och 
mer kanaler börja gå över till digitalt. Det finns både för och nackdelar med detta, i 
det gamla hedliga analoga systemet så kunde man använda sig av singel kort 
(PIC16f84) men med det digitala så är man ju tvungen att använda sig av en PIC 
processor och ett EEprom minne (24c16-64) dessa kort kallas ofta guld kort och 
används oftast. Fördelarna med digital TV är många ex: bättre bild, enklare 
att installera, fins många roliga spel lokalt på boxarna :P .  Jag ska  gå igenom lite olika 
kort som fungera med det digitala systemet: Funcard är ett alternativ, kortet är utrustat 
med ATMEL AT90S8515 processor och ett 24C64 EEprom minne som har
ett 10 ggr större minne än ett vanligt guldkort, detta kostar mellan  150 och 280 kr. 
Sen kan man använda sig av ett Galaxy kort det är nästan samma som ett vanligt 
guldkort skillnaden är att det finns ett galaxy motiv på baksidan av kortet och det ser 
mer professionellt ut, sen är det en nyare version av PIC processon (PIC16f84A) . 
men jag föreslå ett vanligt guld kort som kostar mellan 100 och 200 kr det är både 
mycket lätt hanterat och lätt att programmera, du hittar enklast HEX filer till 
guldkorten också. Så nu har jag gått igenom hårdvaran, och nu till mjukvaran alltså
hexfilerna. att programmera kortet är också väldigt enkelt har du haft pirat kort till 
analog box inan så vet du väll hur en PIC programmerare fungera,  men ni som inte 
har haft det så ska jag berätta att det skiljer så mycket från programmerare till 
programmerare så därför kan jag inte gå in på detaljer hur du ska gå till väga med just 
din programmerare,  men jag vill rekommendera en jätte bra från AD-teknik 
(www.adteknik.se) , Multiprogrammerare 3.5 drivs av ett vanligt 9 volts batteri 
och det finns programvara till Windows 98/ME/2000/NT/Dos mm. den är lätt att 
hantera och manual på svenska, sen så kan man köra den i ett visst 
Smartmouse/Phoenix emulation mode. Tack vare detta interface kan man 
kommunicera med ett flertal typer av smartcards såsom: COP-kort, GSM-kort, 
Cash-cards osv :P. Hex filerna hittar du enklast på IRC #satcodes irc.webmaster.com 
6667. så nu okar jag inte skriva mer mitt ben har somnat.

Bra adresser:

www.sat.nu
www.satdudez.ubb.cc
www.esaee.com/he.shtml

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

7. Rättelser.
Eftersom detta är första numret av PhreZine så finns det inte några rättelser att 
tillhandahålla. Dock Vill jag erinra om att Se-Zine hade en icke komplett lista med på 
de numren som följde efter TAC och Phrecom tänker inte försöka göra någon 
komplett lista heller. 

-=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom=--=PhreCom

8. Sista ordet.

Vi som har skrivit i PhreZine denna gången tackar för oss och hoppas att ni haft en 
trevlig läsning. ni som känner er manade att ta kontakt med oss så hoppa in på vår hemsida 
http://phreakz.d2g.com
Eller på irc.dal.net #PhreCom

Skribenter:
* Mr_Mann
* m3m1z

-----------|
-=PhreCom=-|
-----------|

