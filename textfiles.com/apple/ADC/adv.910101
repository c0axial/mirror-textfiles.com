America Online
APPLE II DEVELOPMENT FORUM CONFERENCE LOG
Tuesday, January 1, 1991  10:00 p.m. Eastern Time
Topic:  Programming in the 90's - Open Discussion
Forum Leader:  Dave Sugar (AFL Dyfet)

DevScott   Well, I'm not yet very experienced at GS programming yet and I'm
           having a 
DevScott   problem with setting up Pop Menu controls in a window
DevScott   that are already predefined in a resource.  (Using TML II)  Any
           ideas where
DevScott   I can get good information?  
DevScott   <---- Having trouble with GS Toolbox Vol 3
AFA Gary J Are you looking for a specific answer on something, or just help
           in general on
AFA Gary J those particular topics?
DevScott   General help now.  I can do it if I don't pre-define the resource
           but
DevScott   I don't know where to begin once the resource is defined.
AFA Gary J Matt, just to fill you in on the problem, DevScott is having
           problems setting
AFA Gary J up Pop up menu controls in a window predefined in a resource.
AFA Gary J He's using TML II.
Matt DTS   It's not too incredibly difficult.  Fidgeter includes a pop-up
           menu control in a window resource.
DevScott   What's Fidgeter?
Matt DTS   A sample program I wrote that appeared in the Sept. 1989 issue of
           Call -A.P.P.L.E. magazine.
DevScott   I think I may happen to have that magazine...I'll check it out.
AFA Gary J Thanks for the help, Matt.
DevScott   Thanks all...
FeinDavid  Next Q?
FeinDavid  We ready for the next topic?  I have one...
AFL Dyfet  Go ahead David :)
Matt DTS   (You might not have noticed, but David has a question.  :)
AFA Gary J :)
FeinDavid  I am writing two CDAs,  and they are both specifically for the ROM
           3 GS.  Right
FeinDavid  now, I want to have the CDA check the machine ROM version, and if
           the rom is
FeinDavid  not greater than 3, I would like to remove the CDA.  I have all of
           the code
FeinDavid  figured out, except what I would actually have to do to make them
           disappear.
FeinDavid  Is it possible for a CDA to remove itself, and is there a simple
           way
FeinDavid  of having a CDA remove like the "undocumented" way of having a PIF
           remove, and
FeinDavid  lastly, is this the best idea, or can anyone think of a better
           one?
Matt DTS   You'd best wait for mail from Dave Lyons on that topic.  The main
           problem is that RemoveCDA doesn't
Matt DTS   remove the CDAs from memory.  One way to do it is to write a
           permanent init that calls InstallCDA and
Matt DTS   use the permanent init mechanism to not be permanent if the ROM
           version isn't 03 or later, but
Matt DTS   that doesn't work for private INITs when you boot over AppleShare.
            (And it's not "undocumented", it's
Matt DTS   in the file type note for file type $B6).
Matt DTS   The first question that needs to be asked is "What kind of CDA
           doesn't work right on ROM 01?"
AFA Gary J :)
AFL Dyfet  :)
FeinDavid  Hummm..... Who cares about appleshare?  (I will IM the answer to
           your q.)
AFL Dyfet  Okay, do we have any other questions for tonight??
FeinDavid  Anyone have any other ideas, or suggestions for what I should do
           if I find a
FeinDavid  ROM 1 GS?  Someone suggested that I just bring up a screen that
           says "Only ROM3"
Matt DTS   People who have AppleShare care about AppleShare!  What kind of
           boneheaded question is that?
Matt DTS   Just because you don't have it means you feel justified in
           crashing the machines of people who do?
Matt DTS   Wrong answer.
AFA Gary J :)
FeinDavid  Relax Matt...  I said that in jest....
Matt DTS   Oh, in that case, so did I.  :)
Matt DTS   On a ROM 01 machine you can call the entry point FF/1800, I think)
           to install the CDAs and exit.  Or
Matt DTS   simply do nothing.  You don't have to provide a digitized
           recording of James Earl Jones saying "You
Matt DTS   must have a ROM 03 Apple IIgs Personal Computer built after August
           1989 to use this Classic Desk
Matt DTS   Accessory."
FeinDavid  8)
AFL Dyfet  GA Scott...
AFL Scott  I've been looking around and I can't seem to find any information
           on Message Center message types.  
AFL Scott  Where is the best place to look for that information?
Matt DTS   Scott:
Matt DTS   There are only a handful of publicly-documented Message Types, and
           they're all in the various
Matt DTS   Toolbox Reference Manuals.  Other message numbers you might find
           are either 3rd-party or Apple
Matt DTS   private messages, which aren't documented because you shouldn't go
           fiddling with them.
AFL Scott  Hmmm... The one I was most interested in what Message type 1...
           but I couldn't find anything on that
AFL Scott  message type... The reason I was looking for it was to set my
           auxtype bits reliably.
Matt DTS   For example, in my system right now, I have two messages.  One is
           MessageByName ("DAL Systems: Nifty
Matt DTS   List Service" and the other is a private message (it actually
           contains the handle to FastFont for
Matt DTS   QD's usage).
Matt DTS   One is public, the other isn't.  That's why it's not documented.
Matt DTS   Message Type 1 is the "files" message and is pretty clearly
           documented under "MessageCenter" in Toolbo
Matt DTS   Reference Volume 2.
AFL Scott  I'll look again.  Thanks, Matt.
Matt DTS   (the only ambiguity is that all the strings are actually entire
           pathnames, which isn't clear.)
AFL Scott  Thanks. :)  Done. 
AFL Marty  I have a suggestion/question for FeinDavid...
AFL Marty  Why go through all that trouble with PIFs?  Why not allow your
           CDA...
AFL Marty  to be installed on either GS and just jump to a routine that
AFL Marty  exits with a message about ROM versions if it's installed on the
AFL Marty  wrong one?
AFL Marty  (If it's selected, that is.)
FeinDavid  I like to be neat, and on the edge of technology?  8)  I don't
           know..  I could,
FeinDavid  or I could just change the CDA title to "NOT A ROM 3!" and begin
           it with a RTL.
Matt DTS   (Or even just change the title to "Do Nothing" if you're on a ROM
           01 machine.  :)
AFL Marty  Soundmaster does this sort of thing if you try to access it
AFL Marty  without AOL active.
FeinDavid  I like that idea.
AFL Dyfet  Or it can say "buy me a new machine" :)
AFA Gary J :)
FeinDavid  Or possibly do a fake reboot with ROM 3 on the bottom of the
           screen? he he 8)
FeinDavid  then wait 20 seconds, and return to the cda menu.
AFA Gary J That would go over real well :)
AFL Marty  (or say something about formatting the AppleShare volume :)
AFA Gary J LOL!
Matt DTS   Next...?
AFL Dyfet  I think we can move on to the next question :)...GA
           Unpleasant...
Unpleasant I'm writing a two player game in assembly language and I'd like to
           make it possible to play it over 
Unpleasant the modem.  Unfortunately, I have zip experience with modem 
Unpleasant programming and I'd like the names of some good 
Unpleasant reference manuals that would get me started.
Unpleasant I'd like to make it available for both the GS Modem port and
           internal modems.
Unpleasant Anyone have any recommendations?
AFL Dyfet  Well, if your willing to work in a very general sense with the
           existing device
AFL Dyfet  drivers, and are not too worried about carrier detect or 8 bit
           binary data
AFL Dyfet  streams, it can be done....
AFL Dyfet  In that case you would basically send and receive text strings
           through the
AFL Dyfet  appropriate GS/OS device driver, send ATDT xxx to dial, read the
           result code
AFL Dyfet  line, and then use some kind of simple line oriented protocol for
           sending
AFL Dyfet  messages back and forth between the machines....
AFL Dyfet  You could program something like that fairly easily in any high
           level language.
Unpleasant Where can I find out how to address the device drivers?
Matt DTS   "GS/OS Reference", from Addison-Wesley.
Unpleasant Is there a modem device driver that you address in a generic
           manner?
AFL Dyfet  The Firmware reference manual can tell you about control sequences
           you can
AFL Dyfet  send to the port to set baud rate/etc....
AFL Dyfet  I don't know if those work through the GS/OS genorated device
           off-hand, though.
Matt DTS   They do, but you MUST first check the characteristics to be sure
           it's a generated driver.
Unpleasant Ok, thanks,  I'll check those out and see if they help.
Unpleasant done
AFL Dyfet  GA A2...
A2GS       I'm kind of confused about a few things related to
           Driver...specifically
A2GS       Printer Drivers.....in the System.Disk Drivers folder there is a
           file called
A2GS       "Printer" and another file which is called "Imagewriter"....is the
           "Printer"
A2GS       file the generic device driver for printers handling Device calls
           (ex. DWrite,
A2GS       DRead) and the Imagewriter handles specific printing options
           related to the
A2GS       Imagewriter like for printing graphics, etc....???
A2GS       GA
Matt DTS   "ImageWriter" is the printer driver, "Printer" is the port driver.
            To print to an ImageWriter through
Matt DTS   the printer port, in the DirectConnect CDev you select both
           "ImageWriter" and "Printer".
Matt DTS   Neither is a GS/OS driver (DRead, DWrite, etc.).  You need to read
           the File Type Note for file type
Matt DTS   $BB (drivers) to get a handle on the various (four or five)
           different kinds of drivers in that folder.
Matt DTS   (GA)
A2GS       But they have a filetype of $BB....so they are drivers....how are
           they setup
A2GS       then....do they contain DIB's, etc...?
A2GS       GA
Matt DTS   They have different auxiliary types.  You need to read the file
           type note for file type $BB to get
Matt DTS   a handle on the various different kinds of drivers in that folder.
            (GA)
A2GS       ok....will look into it....thanx
A2GS       done
AFL Dyfet  Okay, GA Speedlimit :)
SPEEDLIMIT Has anyone noticed that 5.04 cause the old INTRUPTS problem online
           here again
SPEEDLIMIT I thought I saw this happen last week... but... last night when
           I
SPEEDLIMIT was donwloading it was the same old same old... wondering if this
           was 
SPEEDLIMIT happening to others with the new System disk  
SPEEDLIMIT GA
AFL Dyfet  GA Matt
Matt DTS   This part of the system disk was NOT CHANGED between 5.0.3 and
           5.0.4.  It should behave the same
Matt DTS   way under both (which is, it puts up a dialog saying "something
           may be wrong", and pressing <CR>
Matt DTS   returns you to where you were).
Matt DTS   (GA)
SPEEDLIMIT I would have tholught so also... until I saw it happening to me...
            :/
Matt DTS   It could be a problem with the America Online software beyond what
           we've previously seen.
SPEEDLIMIT Wait... Wait... I thought that the Sign thingee was done away with
           on 
SPEEDLIMIT 5.03... I know that I didn't have the problem with 5.03... on the
SPEEDLIMIT downloads that is  
Matt DTS   I'm telling you that Apple did not change that behavior between
           5.0.3 and 5.0.4.
Matt DTS   The release notes seem to indicate the dialog is supposed to be
           gone, but that was not my belief.
Matt DTS   I thought it put up an alert that said something may be wrong, but
           <CR> gets you out of it.
Matt DTS   That's in the core of GS/OS itself, and this did not change for
           5.0.4.  I suggest you check out your
Matt DTS   installation and make sure something cosmically unexplained hasn't
           happened to you.
SPEEDLIMIT Matt... yes that is they way it works... hitting the Return Key...
           but I 
SPEEDLIMIT didn't have the problem with 5.03... that is I didn't have to hit
           the Return 
SPEEDLIMIT key... now I'm stuck by the computer when I download again... What
           a Drag  :(
Matt DTS   Then you just didn't hit the 65536 unclaimed interrupts level. 
           (It usually only happens while
Matt DTS   downloading, I understand).  It did NOT change.  Really.
Matt DTS   (GA)
SPEEDLIMIT Oaty... I will check it... thanks Matt
SPEEDLIMIT Done
AFL Dyfet  Okay, GA PeacesSign
PeaceSign  Does anyone know of an error code listing for the GS self-test? 
FeinDavid  In one of the latest tech notes there is a complete list of the
           error codes.
Matt DTS   Apple IIgs Technical Note #95, "ROM Diagnostic Errors".
FeinDavid  Thanx matt.
PeaceSign  This is in the d/l library?
PeaceSign  d/l = download
AFA Gary J Yes
FeinDavid  should be under "FROM APPLE"
AFA Gary J (It is in the "From Apple" library)
FeinDavid  too late gary.
FeinDavid  he he 
AFA Gary J In the Apple IIGS section :)
AFL Dyfet  :)
AFA Gary J (Fumble fingers here :)
PeaceSign  So I can look up the BAD SYSTEM error code in this file. right?
AFA Gary J Do you know the error number?  (I have the note sitting in front
           of me)
AFA Gary J I'll tell you if it's there :)
PeaceSign  Yes...
PeaceSign  0200 FF00
PeaceSign  That was the 1st one.
PeaceSign  0C00 0001 was the other one we got.
AFA Gary J Well, it's there :)    The error codes are organized in such a
           way that you
AFA Gary J piece them together by the bytes of the error code number.
Matt DTS   0200FF00 = RAM failure in bank zero.
Matt DTS   0C000001 = Sound RAM data error
PeaceSign  Thanks all! I'm done. Hope everyone had a HAPPY NEW YEAR!!
AFL Dyfet  GA Marty....
AFL Marty  Speaking of technotes...
AFL Marty  When do you think the November issues will be available?
AFL Marty  (GA)
AFA Gary J Good question  :)
AFA Gary J (I was going to ask the same one.)
Matt DTS   The November TNs were mailed to partners and associates in
           November.  The text file versions are
Matt DTS   "freebies" done by DTS people on their own time as a favor to
           online services.  No one's had time yet.
AFA Gary J That's what I thought :)  
FeinDavid  Has anyone received any programming information on the Zip GSX? 
           Zip promised 
FeinDavid  me some, and they never sent them to me.  I know other people are
           waiting too,
FeinDavid  like Glen Bredon...  He wants to implement some speed changes into
           ProSEL-16.
FeinDavid  ga.
FeinDavid  I guess no one.
FeinDavid  ga.
AFA Gary J Have you tried contacting Zip?
AFA Gary J (lately)
FeinDavid  Yes.  The Zipper said he would send some out to me, and didn't
           seem to do so.
FeinDavid  I contact him online.  Maybe that is the mistake.
FeinDavid  Thank you for all of your wonderful support Matt!
FeinDavid  Any other questions anyone?
Matt DTS   <blush>
FeinDavid  Yeah.... now that I think of it.
FeinDavid  Is it safe to remove an ABD device on the IIgs with the power on? 
           I have alway
FeinDavid  s been doing that, and I have had a few people tell me it is
           dangerous.  I don't
FeinDavid  think so, but what the hey.
FeinDavid  like my turbomouse...
AFA Gary J I've had my machine lock up on me in doing that by accident.
Matt DTS   It is definitely dangerous on the Mac, but I don't know for sure
           on the IIgs.
AFA Gary J But, of course, the device I accidently removed was my keyboard
           :)
Matt DTS   There is power trickling through the ADB bus, so you're taking
           your chances.  <GA>
FeinDavid  Should I worry?
AFA Gary J Yes.  You have reason to worry :)
FeinDavid  ok.  I'll worry.
AFA Gary J (Loose some sleep on that one :)
FeinDavid  Yeah... right... 

FeinDavid  BTW Matt, did you know that the little Finder Easter Egg is not in
           the 
FeinDavid  french version of 5.0.2 finder?
FeinDavid  basically Finder version F-1 1.3.
FeinDavid  I recently ran the french 5.0.2 just for the fun of it... 
           Strange..
AFL Dyfet  How so David?
FeinDavid  Do you know about the "About the system..." easter egg in the
           finder?
FeinDavid  Well, if you press I think it is Shift and Option while you pull
           down the
FeinDavid  apple menu, ABOUT THE SYSTEM should show up instead of ABOUT THE
           FINDER.
FeinDavid  That will list all of the names of everyone who worked on 5.0+,
           and if you 
FeinDavid  click on the name "Apple II" at the top of the dialog box, (rom 3
           only), 
Matt DTS   (It lists the people in the engineering group at the time 5.0 was
           released.)
FeinDavid  the computer will play a digitized sound of people yelling "APPLE
           II!".
FeinDavid  But it is not in the French version of the finder.  Yet the French
           "The Guide"
FeinDavid  specifically tells everyone about this easter egg.  Strange.....
BCS Frank  Wondered what all that extra ROM was for.  :)
FeinDavid  Naw, the sound is only about 5K long I believe... I removed it a
           while ago.
BCS Frank  Is it in 5.0.4?
Spottysoft Would think 5.0.4 does Frank.... it's still the same Finder (v1.3
           ??)
FeinDavid  5.0.4 still does.  it is the same finder.
Spottysoft Andy Nicholas hasn't had enough time to digest all that source
           code yet  :)
AFA Gary J That is strange.

AFL Scott  Is the reason newly assigned aux types didn't have their
           description in FType.Aux because the software
AFL Scott  (system software that is) was signed off prior to Applefest?
Matt DTS   The File Type Descriptors for 5.0.3 were frozen in early June. 
           They did not change for 5.0.4.
Matt DTS   That's why you can supply your own FTDs and they take precedence
           over the system's.  <GA>
AFL Scott  So, I can ship an Ftype file of my own, then?  I was under the
           impression that doing so wasn't a 
AFL Scott  good thing?
Matt DTS   Did you actually read the FTD File Type note ($42)?  It clearly
           states shipping your own is encouraged
Matt DTS   since Apple can't update the system software all that often.
AFL Scott  I don't have $42... maybe that's why I didn't read it. :(
AFL Scott  I'll download it and read it.  I already have an FType file ready
           to go so I'm covered... Thanks,
AFL Scott  Mr. Fein!  Thanks for clearing that up, Matt.
FeinDavid  Where's you get that? he he he
AFA Gary J Wait, if the FTD file takes precidence over the systems, how can
           multiple
AFA Gary J releases of the file from different vendors be supported?  (Maybe
           I don't 
AFA Gary J understand exactly how this works :)
Matt DTS   You don't.  :)
Matt DTS   Vendors should release FTDs that contain only their file type
           descriptions.  For example,
Matt DTS   FType.Hypercard contains exactly one entry - $55/$0001 -
           "Hypercard Stack".  That then takes
Matt DTS   precedence over the generic $55 entry in FType.Main - "Hypermedia
           document"
Matt DTS   <GA>
AFA Gary J Oh!  (I thought there could be only one "FType.Main" and a
           "FType.Aux" and 
AFA Gary J that's all.  (That explains it :)  Thanks.
Matt DTS   The file names are totally irrelevant.  Read the note.
AFA Gary J Ok :)
FeinDavid  For some strange reason, using Disk Access, and the
           Ftype.Hypercard, the scan
FeinDavid  through the filetypes seems to slow down to half speed. and is
           terribly slow.
FeinDavid  I haven't check to see if the finder is also so slow...  But I did
           track it
FeinDavid  down to only happening with a Ftype with only one entry.
Matt DTS   It could be a bug in the way Steve wrote the FTD searching code. 
           It doesn't slow down the Finder
Matt DTS   in any noticeable way.  (Of course, I wrote that code, so
           naturally it's perfect.  :)
FeinDavid  Gosh... what an ego!  8)
FeinDavid  I'll check with steve.

