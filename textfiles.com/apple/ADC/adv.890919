America Online
APPLE II DEVELOPMENT FORUM CONFERENCE LOG
September 19, 1989   10:00 pm eastern time
Topic:  Programming Shells and Utilities
Forum Leader:  Gary Jacobson (AFA Gary J)


AFA Gary J Welcome to the Apple II Development Forum.
AFA Gary J Tonight's topic is Programming Shells and Utilities.
AFA Gary J We'll be using forum protocol, starting ** NOW ***, so if you
           have
AFA Gary J a question, type a "?" on a line by itself, or if you have a
           comment on 
AFA Gary J the current topic, type a "!" on a line by itself.  I'll keep
           track of the
AFA Gary J question queue and call on you when it's your turn.
AFA Gary J Does anyone have any question to open up with this evening?
AFA Gary J (questions)
AFA Gary J GA, GET
AFA Gary J (GA = Go Ahead)
GET1       When will APDA have the information we need to program under GSOS
           system 5.0?
AFA Gary J GA, Dave
Dave Lyons As of yesterday (as I posted a few minutes ago in Let's Discuss,
           under the
Dave Lyons toolbox folder), APDA has "Apple IIgs Toolbox Reference, Volume 3
           (Beta
Dave Lyons draft)", part number A0229LL/A.  I don't have the price handy, and
           I haven't
Dave Lyons called them first-hand to verify this (but Hey...I work for Apple,
           and second-
Dave Lyons hand info is Good where I get it!).  If I understood correctly,
           it's actually
Dave Lyons shipping.  ga
GET1       I'm having trouble now. Programs that assembled/compiled fine
           under System 4.0
AFA Gary J So, it will probably be available at AppleFest?
GET1       give me a "NOT ENOUGH ZERO PAGE MEMORY ERROR" under system 5.0
Dave Lyons _At_ AppleFest?  Don't know...in the past, APDA has usually not
           been actually
Dave Lyons selling products at 'fest.
Dave Lyons GET1, how much bank-0 space does your program try to allocate?
GET1       Just enough for the Toolbox calls as indicated by the reference
           manual $800
AFA Gary J (That's right, it was Tech Alliance last year)
Dave Lyons There should be no problem...OS bank-0 requirements have not gone
           up by more
Dave Lyons than about 1K or so (some drivers request bank-0 space these
           days).  Try
Dave Lyons looking at memory usage using either Memory Peeker (in ROM; ask if
           you need
Dave Lyons details), Nifty List (a Shareware CDA available here online),
           Memory Mangler,
Dave Lyons etc., and see what's taking up all that memory.  ga
GET1       The problem occurs most often when running under the ORCA desktop.
           I don't know
GET1       how much that is using
Dave Lyons How much RAM is in your machine?
GET1       of zero page memory that is!
Dave Lyons (If you're *really* tight for memory, stuff that doesn't *have* to
           be in
Dave Lyons bank 0 will be put there.)
GET1       I have 1.25 meg right now. I'm going up to three meg as soon as my
           AE card
GET1       arrives
Dave Lyons I suspect you really *are* running out of memory,
Dave Lyons and stuff that would normally not be in bank 0 is there taking up
           the rest
Dave Lyons of the space.  ga
AFA Gary J Anything else, GET?
GET1       I am also having some problems with file access on my hard drive
           under 5.0
Dave Lyons (Please clarify "file access")
GET1       Does anyone know of a good utility SCSI diagnostics? I'm using a
           RODIME 60 
GET1       Plus with an APPLE SCSI card (REV C ROMS). 
GET1       I'm getting BAD file notices on files that are good. And the
           system hangs when
AFA Gary J What kind of file access problems, GET?
Dave Lyons (What's a "BAD file notice"?  Error number?)
GET1       I put a 3.5 inch disk in the drives and open it on the desktop.
Dave Lyons For the 3.5 problem, try getting rid of any ICONS folder on that
           3.5" disk, 
GET1       It gives an error #5 when it doesn't just hang. The verify and
           validate checks
GET1       come out ok!?
Dave Lyons and see if that helps.  (If the icon files are bad, the Finder
           could hang
Dave Lyons trying to read them.)
GET1       I'll try that.
Dave Lyons You get error #5 *when* (boot?); and what does it look like
           (sliding Apple,
Dave Lyons dialog box in the Finder, etc)?
GET1       I get the sliding APPLE sometimes. Sometimes I get a dialog box
           and sometimes 
GET1       nothing!
AFA Gary J Perhaps you could post further info on this in the message boards
           and
GET1       It's driving me nuts. I went back to GSOS 4.0 til I could locate
           the problem.
Dave Lyons (System Software 4.0, which contains GS/OS 2.0.  :-)
AFA Gary J after you try the icon files, let us know what happens.
AFA Gary J Ok.... let's move on to Coach's question.  GA Coach.
GET1       I will. Thanks. Let someone else talk
Coach101   First a comment....
Coach101   I called APDA at 8:00 this morning and the order girl did not
           know
Coach101   of the recent release....   I will have the wife call tomorrow (I
           have
Coach101   a 7:00 plane to catch)....
Coach101   The question, with the new APW tools, there is LinkIIGS and the
           "standard"
Coach101   LINKer.  LinkIIGS is obviously new.  Is the "standard" linker the
           old LINK
Coach101   processor or is it also new?   ga
AFA Gary J GA, Dave
Dave Lyons I don't know whether the standard linker was revised or not; I
           know who
Dave Lyons does, though...leave a msg for A2Pro Tim (Tim Swihart).
Dave Lyons ga
AFA Gary J Right, you might ask
AFA Gary J in the message boards, as Tim seems to be keeping up with the
           comments
AFA Gary J about the new release quite regularly right now.
Coach101   I will just catch Tim at Afest this weekend....  Just a curiosity
           ?   Done
AFA Gary J Ok, thanks, Coach.  Now on to Scott's question.  GA Scott.
AFL Scott  What are some common mistakes people make when moving an assembly
           language program from APW to...
AFL Scott  MPW for use under MPW/IIGS?
AFA Gary J That's a good one...:)
AFA Gary J GA, Dave
Dave Lyons Gee...what problems are you having?  I've moved a couple of
           programs from
Dave Lyons APW to MPW IIgs assembler--I started by using AsmCvtIIgs, and then
           I had to
Dave Lyons move some IMPORT lines so they were inside PROCs (or something
           like that).  I
Dave Lyons also had to edit some string constants, since AsmCvtIIgs
           apparently saw
Dave Lyons double quotes inside my single-quoted strings and decided to turn
           them
Dave Lyons into single quotes "for me" (ack).  Other than little things like
           that, it's
Dave Lyons straightforward--I got a byte-for-byte identical load file on the
           big project
Dave Lyons I moved.  ga
AFL Scott  Stuff like Duplicate this, duplicate that... It AsmCvtIIgs pretty
           much mangled whatever structure I 
AFL Scott  had.  The program I moved is huge.  I did one file at a time and
           tried to keep the distruction to a 
Dave Lyons Gee...I have to admit my big project was all a *single* START/END
           in APW, and
Dave Lyons I made it all into one file before AsmCvtIIgs-ing it.  Sounds like
           you're
Dave Lyons having much more fun than I did....
AFL Scott  minimum, but right now, since the formatting was destroyed, I have
           something's that I don't know where
AFA Gary J :)
AFL Scott  they belong, now.
AFL Scott  We all should have this much fun, Dave!:)
AFA Gary J You should write a book on the subject when your done, Scott.
           :)
AFA Gary J Anything else, Scott?
Coach101   Yeah....   Having Fun The Apple Way  :)
AFL Scott  Terror in Virgina, a new book by Scott Gentry.
AFA Gary J :)
AFL Scott  I'm finished, I guess. 
AFA Gary J Ok
AFA Gary J GA, Dave
Dave Lyons Coach, were you armed with the part number when you checked with
           APDA
Dave Lyons yesterday?  I hope that helps.  ga
Coach101   Negative Dave....   I will use it (part number) in the morning....
            I found
Coach101   with the APW tools that the part number helps...  Anyone know what
           time the
Coach101   APDA order numbers open?   ga
AFA Gary J The APDAlog says 8 to 5
AFA Gary J Ok, Coach, let's go on to your question... GA
AFL Scott  (Hi Marty)
Coach101   The APW tools docs suggested that DEREZing a resource was a good
           way
Coach101   to learn the REZ structure so I tried it (no TB Vol II yet).  I
           picked
Coach101   on */SYSTEM/CDEVS/PRINTER and the system error file in APW..   The
           net
Coach101   result was a "hex" style dump..   Do I need some option to get
           something
Coach101   more illustrative out of DEREZ?
AFA Gary J GA, Dave
Dave Lyons The file you dumped consists mainly of a large CDevCode resource,
           so a hex
Dave Lyons dump is about what you'd expect to get.  If you try
           *:System:System.Setup:
Dave Lyons Sys.Resources, you'll get slightly more interesting results.  You
           won't find
Dave Lyons nice examples of most of the defined resource types on the system
           disk,
Dave Lyons though.  ga
AFA Gary J Anything else, Coach?
Coach101   Thanks,  I give it (and tB vol III) a try..   ga
AFA Gary J Ok, GA with you question, JDavies.
Coach101   done
JDavies1   A couple of quick questions...First Dave what was the TB Ref order
           #?
AFA Gary J GA, Dave
Dave Lyons It's A0229LL/A (also posted someplace, but easier to repeat than
           to remember
Dave Lyons where).  ga
JDavies1   Next where can you get  Express and Rez edit?
Dave Lyons Those are also shipping from
Dave Lyons APDA, but I don't have the part # handy--I think Tim Swihart
           posted it
Dave Lyons around here someplace, though (he's the product manager for it).
           ga
Dave Lyons Oops!
Dave Lyons That's Express, the Rez compiler, DeRez, etc--the package does
           *not*
AFA Gary J Ooops?
Dave Lyons include a resource *editor*.  ga
AFA Gary J (oh) :)
AFA Gary J Ok, anything els, JDavies?
JDavies1   lastly something i asked Dave before..Can you tell the 
JDavies1   computer through the address $c000 that a key was presses( but it
           really wasn't
JDavies1   )?
AFA Gary J GA, Dave
Dave Lyons You can't do it straightforwardly, like by storing something into
           $C000, but
Dave Lyons you can use the SendInfo command in the ADB toolset to tell the
           Keyboard
Dave Lyons Microcontroller that a key was pressed (the key micro is the thing
           that
Dave Lyons _supplies_ the values to the hardware when you read $C000, $C025
           (modifiers),
Dave Lyons etc.).  I'm not an expert at this technique myself, so you may
           want to post
Dave Lyons a msg in the ADB folder of GS Toolbox for more info.  gfa
Dave Lyons (or even "ga")
AFA Gary J GA, A2GS
JDavies1   Thanks..done
A2GS       Forget it, Dave said it all :)
Dave Lyons :)
AFA Gary J Ok.  Anything else, JDavies?
JDavies1   nope
AFA Gary J Ok...
AFA Gary J Does someone know how much memory is required to run MPW?
AFA Gary J GA, Dave
Dave Lyons I run MPW 3.0 in a 1-meg partition (under MultiFinder) at work,
           and this
Dave Lyons generally works very well.  (I *occasionally* get an out-of-memory
           message and
A2GS       2 Gigabytes with at least one optical drive :)   Nope, don't know
           :-)
Dave Lyons close some documents or something.)  You probably would *not* be
           happy running
Dave Lyons on a 1-meg machine, but 2 should be fine.  (I like 5,
           personally.... :-)  ga
AFA Gary J Ok, just curious.
Dave Lyons (Errr....4.)
AFA Gary J (I need some more memory for my Mac, and needed to know just how
           much
AFA Gary J I'd REALLY need :)  
AFA Gary J Ok, next question is from A2GS.  GA
A2GS       Any fast way (say someplace in memory) where I can get a Random #,
           avoiding
A2GS       the RandomSeed and Random TB calls?
AFA Gary J GA, GET
GET1       I remember the old trick of peeking in memory location 75 for a
           "randome seed"
GET1       but you can use the system clock to get a seed for your random #
           routine.
AFA Gary J GA, Dave
Dave Lyons You can check $C02E/$C02F (see Apple IIgs Technical Notes #39 and
           #40, I
A2GS       Thought of that, but how do you get direct access to the clock?  I
           know you
A2GS       have to set a couple of softswitches is that all?
Dave Lyons think) for the horizontal/vertical location currently being
           scanned on the Apple II display.

AFA Gary J Ok, Coach has the next question:
Coach101   Does Vol II of TB ref go into GS/OS changes for GS/OS 3.0?
Coach101   II --> III
AFA Gary J GA, Dave
Dave Lyons Nope--TB Rev Vol 3 is only toolbox changes for System Software
           5.0.  The
Dave Lyons changes for GS/OS 3.0 will have to be addressed in a separate
           document.  ga
Coach101   Is that document underway for publication via APDA?
Dave Lyons Sounds likely to me.  :)
Coach101   done
AFA Gary J I have a utility type question for Dave, while he's here...
Coach101   Dave's just tired :)
AFA Gary J ..(an old favorite  :)  what (and when) is in the future for
           Nifty List?
Dave Lyons "When is in the future for Nifty List?"  Sounds hard to answer.
           :-)
Dave Lyons Well...the "what" is all the stuff I've been saying I'm working on
           for a 
AFA Gary J :)
Dave Lyons long time...I'm still working on it.  I have a prototype that
           loads separate
Dave Lyons modules, but they can't do much of anything yet.  The Big Brother
           stuff is
Dave Lyons still on, and I'm wishing I had it in a usable state more and more
           these
Dave Lyons days.
AFA Gary J That's the incentive to get it done :)
Dave Lyons I wish I could roll out an awesome version at AppleFest, but it
           ain't done
Dave Lyons yet.
AFA Gary J Is it that close to being completed?   Or just wishful
           thinking?
AFA Gary J (I'm looking forward to it)
Dave Lyons Did I imply it was close to being done?  Sorry. :-)  I *wish* it
           was close to
Dave Lyons done.  ga
AFA Gary J :)
AFA Gary J Ok.  I hope to see it on a download board near me, sometime this
           Christmas :)
