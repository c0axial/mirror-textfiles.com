                                     

                   The do-it-yourself SCSI hard drive manual
                                        
                                   By Paladin
                                        
                                    11-6-88
                                        
                                        


The Preliminaries

This doc file will show you how simple it is to construct your own SCSI hard
disk drive and save hundreds of dollars. There is no need to pay extra money
for something that you can do yourself, with a little work and scrounging
around. Do not attempt this if you don't know which end of a screwdriver to
use. Much of the information below comes from the Apple II SCSI Card Technical Reference Manual and from the Adaptec ACB-5500 User's Manual.

For 3 years Apple Computer and several 3rd party computer manufacturers have
offered what is known as a SCSI card. SCSI stands for Small Computer Standard
Interface. SCSI is pronounced "scuzzy", for those who like slang. The idea of
SCSI is that a device can be designed to work with an interface instead of an
actual computer.  Devices made to the SCSI standards are portable between
systems, like external modems. In this way, SCSI is comparable to the RS-232
serial interface. The Apple SCSI card lists for $130.00. Mail Order prices are about $20-30 less.

The Apple II SCSI card conforms to the ANSI, x3t9.282-2 standard. The SCSI
card is actually a small computer that runs the SCSI bus and can handle DMA in the GS. The SCSI card can handle 8 SCSI devices on the bus and the card counts as 1 device. All devices are daisy chained and must have their UNIT NUMBER set by a set of jumper blocks. No two devices can have the same UNIT NUMBER. The SCSI card should be set at a higher unit number than the disk drive; this is this way the bus sets priority for all the devices online and your computer should have top priority.

Before we go much further, it must be noted that any Apple SCSI card with a
revision "B" or earlier will NOT work with GSOS. The ROM number needed is
#341-0437-A, also known as ROM "C". This is a free upgrade at your Apple
dealer (see the service department product bulletins). CMS also offers a SCSI
host card. The disadvantage of the CMS card is that it can handle only one
drive attached to it.
                                        
                                        
                                        
              The Nitty-Gritty. Now for the information you want.


Apple's version of the SCSI standard has one big difference from the real
standard; the cable between the card and the drive uses only 25 wires instead
of 50. Half of the wires in the 50 wire version are grounds and Apple merely
lumped them together. The pinouts for this cable will follow shortly.

The "internal" cable that connects the drive to the "outside" comes with the
drive and is a 50 wire ribbon cable. The important thing to know is this is a
STRAIGHT cable. Pin one from the drive goes to pin one of the connector (the
connector is a IDC 50 contact SOCKET, 3M part #925155-50-R) and that is all
you need to know. In fact, the cable supplied with the drive has a connector
on the end (another 50 pin "molex") that can just stay there. Place the IDC
connector anywhere convenient. Use a vice to crimp the connector to the cable
being careful to align the wires with the contacts. This step is critical.


CABLE PINOUTS
------------------------------------------------------
IDC 50 contact     Signal              DB-25 Connector
(to drive)                             (to card)
------------------------------------------------------
1                  DB0-gnd             14
2                  DB1-gnd             14
3                  DB2-gnd             14
4                  DB3-gnd             16
5                  DB4-gnd             16
6                  DB5-gnd             16
7                  DB6-gnd             18
8                  DB7-gnd             18
9                  DBP-gnd             18
11                 DIFFSENS-gnd        18
16                 ATN-gnd             7
18                 BSY-gnd             7
19                 ACK-gnd             7
20                 RST-gnd             9
21                 MSG-gnd             9
22                 SEL-gnd             9
23                 C/D-gnd             24
24                 REQ-gnd             24
25                 I/O-gnd             24
26                 -DB0                8
27                 -DB1                21
28                 -DB2                22
29                 -DB3                10
30                 -DB4                23
31                 -DB5                11
32                 -DB6                12
33                 -DB7                13
34                 -DBP                20
38                 TERMPWR             25
41                 -ATN                17
43                 -BSY                6
44                 -ACK                5
45                 -RST                4
46                 -MSG                2
47                 -SEL                19
48                 -C/D                15
49                 -REQ                1
50                 -I/O                3
-------------------------------------------------------

This cable can be had at the swap meets for $6.00 to $15.00. Beware of
__some__ MAC+ SCSI cables. They sometimes only have 6 ground wires
connected to the 50-pin connector (at least my MAC+ cable was done this way)
and the drive will not work. If you get one that has this problem, 10 minutes
with a soldering iron will fix it. Also avoid molded ends on any cable you
buy; you may have to modify the wiring. A GOOD knowledgable cable company should be your source. Belkin Components in Gardena, California is one good source.

                                        
                                        
                                        
                                 The HARD FACTS


You now have the SCSI card and cable (external). You are about 40% finished.
Now for the drive. One of the best places to find SCSI drives is in the
Computer Shopper. Most disk drives advertised are for the IBM and are the
ST412/506 type drives which are unusable for our project. The ad must state
SCSI drives before you can even concider the company selling the drives. 90%
of the people selling drives are so IBM oriented they think "scuzzy" is a
BRAND of disk drive! Forget these people. They will be of little help. Stick
to the companies that sell JUST drives or list SCSIs. They'll know what you're ordering. I bought mine through Hard Drives International in Phoenix, Az and I recommend them.

While every major hard disk manufacturer makes SCSI drives I will list the
Seagate models so you can get an idea of what is available. The Seagate SCSI
drives have a "N" as a suffix to the model number.

Model    Capacity  Sectors   Access Time         Power Comsumption
         (Mbytes)            (millisecs)              (watts)
-----------------------------------------------------------------------------
(5 1/4" half height)                                     (apprx $ 11/88)

ST225N   20        41,720    65                  17                $319
ST251N   43        84,254    40                  13                $419
ST277N   64       126,790    40                  13                $449
ST296N   80       158,320    28                  13                $899

(3 1/2")

ST138N   32        63,139    28                  12
ST157N   48        95,015    28                  12
-----------------------------------------------------------------------------


You will notice that there were no specs on the number of cylinders, heads and other commonly used data. They are not neccessary with the SCSI drives; they are "intelligent" drives and they "know" how big they are.
                                        
                                        
                                        
                                The Missing Case
                                        

Now you have the SCSI card, drive and the cable. Now for the case and the
power supply.

If you have an old Rana or Corona hard disk then you're in luck, although any
old hard disk enclosure/power supply will also do quite nicely. Just remove
the drive, controller card (that strange card that sits on top of the drive, if there is one.) and cable. You will not need any of this. Set the unit number (remember this at the beginning of this doc?) of the new drive, plug in the power supply to the drive and then mount the drive to the base (don't force the drive to fit if the holes don't line up!). Run the SCSI cable out the back making sure the clamp holds it tight. Replace the top. Plug in the SCSI card (the Apple's power is off...RIGHT?). Plug everything together, making sure the connections are good.

(Warning for the following paragraph: I have not personally tried the ideas
presented next. It has been pointed out to me that the Apple power supply may
be a little too weak on the +12v side. It has only 1 amp available and the
spindle motor for the hard drive MAY require more. It is a marginal situation
which YOU will have to decide upon.)

If you don't have an old drive (we're talking ancient stuff here..old 5 & 10
meg drives) that you're willing to sacrifice, here's a novel idea. Find that
old Apple II+ laying in the closet. Rip out the motherboard. Find two holes
that line up with the drive or drill the holes for the drive. Get a hard drive power connector (it's a very standard connector at a GOOD electronics store).  Splice in the connector to the Apple II+'s power supply (pin outs below) and plug it in (WARNING! I WILL NOT BE RESPONSIBLE FOR ANY DAMAGE DONE HERE! I RECOMMEND YOU CHECK EVERYTHING THROUGHLY BEFORE POWERING ON. I HIGHLY
RECOMMEND YOU HAVE AN OHM METER/VOLTMETER HANDY FOR ALL OF THIS). The rest is
just like the previous paragraph.


Pinouts for the Apple power supply
----------------------------------
      ____ 
_____|   |____
|/           \|
|  O 5    O6  | pin 5 = -12 V, pin 6= -5 V
|_           _|
|_ O 3    O4 _| pin 3 = +5 v, pin 4= +12
|             |
|  O 1    O2  | pins 1 & 2 are grounds
|______|______|

(please excuse the artwork!)

Pinouts for HD power connector
------------------------------

 ______________________
/                      \  Pin 1= +5 v
|  O1    O2   O3   O4  |  pin 2 & 3= ground
|______________________|  pin 4= +12 v


As you can see, pin 3 from the Apple PS goes to pin 1 of HD and pin 4 from the SP goes to pin 4 of the HD and both or either pins one and two can go to pins 2 & 3 of the HD. All the views are from the socket/plug ends and not from the back.

OK, so you don't have either an old drive or an old dead Apple. If you can
afford it, look in the Computer Shopper for Hard Drive cases. They come
complete with power supply, fan, spike/overvoltage protector, painted case,
mounted front light, ect. Prices range from $85 to $170. This is the sane way
to go. I have bought the Tulin "Apple Hive" case and can recommend it. Some
things are a little "Mickey Mouse" but they are otherwise useable (like the
power switch and the busy light not done right).

Otherwise you are going have to be very good at scrounging! What is needed
here is a 25-40 watt switching power supply (a regular tranformer type may be
a little too big but that's your decision) with +5, +12, and a ground. These
power supplies can be found in most electronic surplus stores for $15-30.
Timeline in Gardena is a good source for power supplies. $12.00 will get you a 180 watt power supply that's a little bigger than an Apple II unit (it has no case, switch, cord, ect). Sometimes you can buy a whole electronic doo-dad
that has both a power supply and a case for $20-30, so search around.

Now for the moment of truth; turn on the drive. It should whine and click away for about 20-30 seconds and then settle into a constant speed. Flip on the Apple. If you have plugged the SCSI card into slot 7 there will be a slight delay while the machine polls the SCSI card and drive. THIS IS GOOD, DON'T PANIC! You should hear the drive searching for Prodos or anything else. If the machine hangs (over 30 seconds) then something is wrong with the connections or the UNIT NUMBERS (remember these?...again!) or there is a major DOA part.  If it doesn't find anything the Apple will boot the next controller card it finds. If the drive light went on while prodos/gsos was booting then you're home free and you can continue to the next section. If nothing happened the you need to double check EVERYTHING to see if anythings wrong.

Just a little word of encouragement. As long as the drive does it's
"self-test" when you power it on, it is OK. I even plugged my unit in
backwards (the SCSI cable) and it didn't effect it (however, this is not
recommended). The problem will most likely the connector on the ribbon cable.
If you have a version A or B SCSI ROM make sure to get it exchanged for the
version C ROM, in any case.

                                        
                                        
                                        
                               The software side

You will find out that the SCSI Utilities disk from Apple  (running under
Prodos 8) will only recognize volumes of 20 megs, and, depending on the slot
the host card is in, will only partition 2 or 4 volumes maximum. If you have
the drives bigger than 40 megs you'll either have to leave the host card in
slot 5 (allows phantom drives in slot 2, equals 4 drives or devices) in order
to get more than 2 partitions of 20 megs each, OR, the smart move, to find a
friend with a GS and GSOS (using the ADVANCED DISK UTILITIES) and have the
partitioning/intializing done on the GS. This will allow you to partition the
drive with 32 meg volumes (or any size you want. But Prodos still will only
recognize 32 meg volumes; anything over that is a waste of space). GSOS will
also allow partitioning far beyond what Prodos will recognize. In fact, Prodos will only recognize 8 devices total (disk drives), while GSOS can partition more than that. Each partition counts as one device. The partition is initialized after the partitioning is done.

So let's review:

Set the unit number of the hard drive (installation book that comes with drive will explain how)

Install 50 pin (Centronics 50 pin socket) onto the 50 conductor ribbon cable,
pin one of drive going to pin one of connector.

Make of buy the SCSI "system" cable using the pinouts from above. It has a
male DB-25 on one end and a 50 pin male Centronics on the other.

Plug in SCSI card into any slot but 3 (making sure the unit number is set per
Apple's instructions).

Connect cables. (make power cable if you don't have the "stock" setup of
another drive to start with).

Power on and wait for the drive to self-test. Power on Apple. Use SCSI
Utilities or ADVANCED DISK UTILITIES to partition/initialize disk.

When you've done that, you're finished! Now you can transfer files onto the
drive, create subdirectories and anything else you do with a HD. You can take
pride in the fact you BUILT this system and saved $$$ while doing so.

=============================================================================

A side note: I highly recommend Prosel for your new hard drive. It is worth
every penny of the $40 price tag. Glen Bredon is the author/publisher of
Prosel.

